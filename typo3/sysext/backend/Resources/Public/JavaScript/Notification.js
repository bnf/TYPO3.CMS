/*
 * This file is part of the TYPO3 CMS project.
 *
 * It is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License, either version 2
 * of the License, or any later version.
 *
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
 *
 * The TYPO3 project - inspiring people to share!
 */
define(["jquery","./Enum/Severity","./Severity"],(function(e,t,a){"use strict";class s{static notice(e,a,i,n){s.showMessage(e,a,t.SeverityEnum.notice,i,n)}static info(e,a,i,n){s.showMessage(e,a,t.SeverityEnum.info,i,n)}static success(e,a,i,n){s.showMessage(e,a,t.SeverityEnum.ok,i,n)}static warning(e,a,i,n){s.showMessage(e,a,t.SeverityEnum.warning,i,n)}static error(e,a,i=0,n){s.showMessage(e,a,t.SeverityEnum.error,i,n)}static showMessage(s,i,n=t.SeverityEnum.info,r=this.duration,o=[]){const l=a.getCssClass(n);let c="";switch(n){case t.SeverityEnum.notice:c="lightbulb-o";break;case t.SeverityEnum.ok:c="check";break;case t.SeverityEnum.warning:c="exclamation";break;case t.SeverityEnum.error:c="times";break;case t.SeverityEnum.info:default:c="info"}r=void 0===r?this.duration:"string"==typeof r?parseFloat(r):r,null!==this.messageContainer&&null!==document.getElementById("alert-container")||(this.messageContainer=e("<div>",{id:"alert-container"}).appendTo("body"));const d="notification-"+Math.random().toString(36).substr(2,5),u=e('<div id="'+d+'" class="alert alert-'+l+' alert-dismissible fade" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true"><i class="fa fa-times-circle"></i></span><span class="sr-only">Close</span></button><div class="media"><div class="media-left"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-'+c+' fa-stack-1x"></i></span></div><div class="media-body"><h4 class="alert-title"></h4><p class="alert-message text-pre-wrap"></p></div></div><div class="alert-actions"></div></div>');u.find(".alert-title").text(s),u.find(".alert-message").text(i);const f=u.find(".alert-actions");if(o.length>0)for(let t of o){const a=e("<a />",{href:"#",title:t.label});a.text(t.label),a.on("click",e=>{u.clearQueue();const a=e.currentTarget;a.classList.add("executing"),f.find("a").not(a).addClass("disabled"),t.action.execute(a).then(()=>{u.alert("close")})}),f.append(a)}else f.remove();u.on("close.bs.alert",t=>{t.preventDefault();const a=e(t.currentTarget);a.clearQueue().queue(e=>{a.removeClass("in"),e()}).slideUp({complete:()=>{a.remove()}})}),u.appendTo(this.messageContainer),u.delay(200).queue(e=>{u.addClass("in"),e()}),r>0&&u.delay(1e3*r).queue(e=>{u.alert("close"),e()})}}let i;s.duration=5,s.messageContainer=null;try{parent&&parent.window.TYPO3&&parent.window.TYPO3.Notification&&(i=parent.window.TYPO3.Notification),top&&top.TYPO3.Notification&&(i=top.TYPO3.Notification)}catch(e){}return i||(i=s,"undefined"!=typeof TYPO3&&(TYPO3.Notification=i)),i}));