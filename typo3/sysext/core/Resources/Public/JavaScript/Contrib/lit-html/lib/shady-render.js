define(["exports","./dom","./template","./template-instance","./template-result","./template-factory","./render","../lit-html","./modify-template"],(function(e,t,n,o,r,s,a,l,d){"use strict";
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const i=(e,t)=>`${e}--${t}`;let m=!0;void 0===window.ShadyCSS?m=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),m=!1);const c=e=>t=>{const o=i(t.type,e);let r=s.templateCaches.get(o);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},s.templateCaches.set(o,r));let a=r.stringsArray.get(t.strings);if(void 0!==a)return a;const l=t.strings.join(n.marker);if(a=r.keyString.get(l),void 0===a){const o=t.getTemplateElement();m&&window.ShadyCSS.prepareTemplateDom(o,e),a=new n.Template(t,o),r.keyString.set(l,a)}return r.stringsArray.set(t.strings,a),a},p=["html","svg"],S=new Set,y=(e,t,n)=>{S.add(e);const o=n?n.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:a}=r;if(0===a)return void window.ShadyCSS.prepareTemplateStyles(o,e);const l=document.createElement("style");for(let e=0;e<a;e++){const t=r[e];t.parentNode.removeChild(t),l.textContent+=t.textContent}(e=>{p.forEach(t=>{const n=s.templateCaches.get(i(t,e));void 0!==n&&n.keyString.forEach(e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{n.add(e)}),d.removeNodesFromTemplate(e,n)})})})(e);const m=o.content;n?d.insertNodeIntoTemplate(n,l,m.firstChild):m.insertBefore(l,m.firstChild),window.ShadyCSS.prepareTemplateStyles(o,e);const c=m.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==c)t.insertBefore(c.cloneNode(!0),t.firstChild);else if(n){m.insertBefore(l,m.firstChild);const e=new Set;e.add(l),d.removeNodesFromTemplate(n,e)}};e.TemplateResult=r.TemplateResult,e.html=l.html,e.svg=l.svg,e.render=(e,n,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");const s=r.scopeName,l=a.parts.has(n),d=m&&11===n.nodeType&&!!n.host,i=d&&!S.has(s),p=i?document.createDocumentFragment():n;if(a.render(e,p,Object.assign({templateFactory:c(s)},r)),i){const e=a.parts.get(p);a.parts.delete(p);const r=e.value instanceof o.TemplateInstance?e.value.template:void 0;y(s,p,r),t.removeNodes(n,n.firstChild),n.appendChild(p),a.parts.set(n,e)}!l&&d&&window.ShadyCSS.styleElement(n.host)},e.shadyTemplateFactory=c,Object.defineProperty(e,"__esModule",{value:!0})}));
